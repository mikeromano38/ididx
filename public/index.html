<!DOCTYPE html>
<html ng-app="ididX" ng-cloak>
<head>
	<title>ididX: Your Professional Timeline</title>
	<link title="timeline-styles" rel="stylesheet" href="//cdn.knightlab.com/libs/timeline3/latest/css/timeline.css">
	<link title="timeline-styles" rel="stylesheet" href="/styles/app.css">

	<style type="text/css">
		[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
 			 display: none !important;
		}
	</style>
</head>
<body ng-controller="MainController">

<header>
	<h3 class='logo'>ididX</h3>
	<div class='utility-nav'>
		<a href="#">Welcome, Candace</a>
		<a href="#">Sign Out</a>
	</div>
	<div style="clear: both;"></div>
</header>

<div class="action-bar">
	<button class="action-button" ng-click="modal.showModal()">Add New Achievement</button>
	<!-- <button class="action-button" ng-click="editAchievement()">Edit Achievement</button> -->
	<button class="action-button" ng-click="removeAchievement()">Remove Achievement</button>
	<button class="action-button" ng-click="skillsModal.showModal()">Filter By Tag</button>
	<button class="action-button" ng-disabled="!_unfilteredAchievements" ng-click="removeFilters()">Remove Filters</button>
	<button class="action-button">Share</button>
	<div style="clear: both;"></div>
</div>

<div timeline config="timeline" style="width: 100%; height: 600px"></div>

<div modal config="modal" class="new-achievement-modal">
	<a class="close-button" ng-click="modal.hideModal()">Close</a>
	<h3>{{modalAction}} Achievement</h3>
	<hr />

	<fieldset>
		<label>Media Url</label><input type="text" ng-model="newAchievement.media.url" />
	</fieldset>

	<fieldset>
		<label>Title</label><input type="text" ng-model="newAchievement.text.headline" />
	</fieldset>

	<fieldset>
		<label>Description</label><textarea type="text" ng-model="newAchievement.text.text"></textarea>
	</fieldset>

	<fieldset ng-show="modalAction === 'New'">
		<label>Month</label><select ng-model="newAchievement.start_date.month">
			<option ng-repeat="month in newAchievement.availableMonths" value="{{month}}" ng-selected="month === newAchievement.start_date.month">{{month}}</option>
		</select>
		<label class="inline">Day</label><select ng-model="newAchievement.start_date.day">
			<option ng-repeat="day in newAchievement.availableDays" value="{{day}}" ng-selected="day === newAchievement.start_date.day">{{day}}</option>
		</select>
		<label class="inline">Year</label><select ng-model="newAchievement.start_date.year">
			<option ng-repeat="year in newAchievement.availableYears" value="{{year}}" ng-selected="year === newAchievement.start_date.year">{{year}}</option>
		</select>
	</fieldset>

	<fieldset>
		<ul>
			<li ng-repeat="skill in newAchievement.availableSkills" ng-if="$index < 3">
				<input type="checkbox" ng-model="skill.selected" ng-checked="skill.selected" /><label class="left">{{skill.name}}</label>
			</li>
		</ul>
		<ul>
			<li ng-repeat="skill in newAchievement.availableSkills" ng-if="$index >= 3">
				<input type="checkbox" ng-model="skill.selected" ng-checked="skill.selected" /><label class="left">{{skill.name}}</label>
			</li>
		</ul>
	</fieldset>

	<div class="action-button-wrapper">
		<button class="action-button" ng-show="modalAction==='Edit'" ng-click="confirmEdit()">Confirm Edit</button>
		<button class="action-button" ng-show="modalAction==='New'" ng-click="addAchievementToTimeline( newAchievement )">Add To Timeline</button>
		<button class="action-button prepopulate" ng-show="modalAction==='New'" ng-click="populateSampleAchievementData()">Prepopulate</button>
	</div>
</div>

<div modal config="skillsModal" class="new-achievement-modal">
	<a class="close-button" ng-click="skillsModal.hideModal()">Close</a>
	<h3>Filter By Skills</h3>
	<hr />

	<ul>
		<li ng-repeat="skill in visibleSkills" ng-if="$index < 3">
			<input type="checkbox" ng-disabled="numSkillsShown === 1 && skill.visible" ng-model="skill.visible" ng-checked="skill.visible" /><label class="left">{{skill.name}}</label>
		</li>
	</ul>
	<ul>
		<li ng-repeat="skill in visibleSkills" ng-if="$index >= 3">
			<input type="checkbox" ng-disabled="numSkillsShown === 1 && skill.visible" ng-model="skill.visible" ng-checked="skill.visible" /><label class="left">{{skill.name}}</label>
		</li>
	</ul>

	<div class="action-button-wrapper">
		<button class="action-button" ng-click="filterSkills()">Filter Skills</button>
	</div>
</div>

<div id="cover"></div>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>
<script type="text/javascript" src="//code.angularjs.org/1.4.3/angular-animate.min.js"></script>
<script src="//cdn.knightlab.com/libs/timeline3/latest/js/timeline.js"></script>
<script src="/scripts/app.js"></script>
<script type="text/javascript" src="/scripts/main-controller.js"></script>
<script type="text/javascript" src="/scripts/timeline-directive.js"></script>
<script type="text/javascript" src="/scripts/timeline-model.js"></script>
<script type="text/javascript" src="/scripts/modal-directive.js"></script>
<script type="text/javascript" src="/scripts/achievement-constructor.js"></script>
<script type="text/javascript" src="/scripts/date-service.js"></script>
<script type="text/javascript" src="/scripts/skills-service.js"></script>
</body>
</html>